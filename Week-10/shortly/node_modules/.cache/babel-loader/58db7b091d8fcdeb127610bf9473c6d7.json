{"ast":null,"code":"import _toConsumableArray from\"/Users/ketan/Desktop/untitled folder/p1-ketan-godwale-KetanGadwale/Week-10/shortly/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/ketan/Desktop/untitled folder/p1-ketan-godwale-KetanGadwale/Week-10/shortly/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{Form as FormBS,Button}from'react-bootstrap';import Error from'./Error';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Form(_ref){var url=_ref.url,setUrl=_ref.setUrl,list=_ref.list,setList=_ref.setList;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var handleSubmit=function handleSubmit(e){e.preventDefault();addShortURL(url);};var addShortURL=function addShortURL(url){if(url===''){setError('Please enter valid URL');return;}var fetchURL=\"https://api.shrtco.de/v2/shorten?url=\".concat(url);fetch(fetchURL).then(function(res){return res.json();}).then(function(data){if(data.ok){setError('');setList([{link:url,short_link:data.result.short_link}].concat(_toConsumableArray(list)));}else{setError(data.error);}});};useEffect(function(){list[0]&&setUrl(list[0].short_link);},[list]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(FormBS,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormBS.Control,{type:\"text\",placeholder:\"Shorten your link\",value:url,onChange:function onChange(e){setUrl(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",size:\"lg\",type:\"submit\",children:\"Shorten\"})}),/*#__PURE__*/_jsx(FormBS.Text,{muted:true,children:\"By clicking SHORTEN, you are agreeing to Shortly's Terms of Service, Privacy Policy, and Acceptable Use Policy\"})]}),error!=''&&/*#__PURE__*/_jsx(Error,{error:error,setError:setError})]});}","map":{"version":3,"names":["useEffect","useState","Form","FormBS","Button","Error","url","setUrl","list","setList","error","setError","handleSubmit","e","preventDefault","addShortURL","fetchURL","fetch","then","res","json","data","ok","link","short_link","result","target","value"],"sources":["/Users/ketan/Desktop/untitled folder/p1-ketan-godwale-KetanGadwale/Week-10/shortly/src/components/Form.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Form as FormBS, Button } from 'react-bootstrap';\nimport Error from './Error';\n\nexport default function Form({ url, setUrl, list, setList }) {\n    const [error, setError] = useState('');\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        addShortURL(url);\n    };\n\n    const addShortURL = (url) => {\n        if (url === '') {\n            setError('Please enter valid URL');\n            return;\n        }\n        let fetchURL = `https://api.shrtco.de/v2/shorten?url=${url}`;\n        fetch(fetchURL)\n            .then((res) => res.json())\n            .then((data) => {\n                if (data.ok) {\n                    setError('');\n                    setList([\n                        { link: url, short_link: data.result.short_link },\n                        ...list,\n                    ]);\n                } else {\n                    setError(data.error);\n                }\n            });\n    };\n\n    useEffect(() => {\n        list[0] && setUrl(list[0].short_link);\n    }, [list]);\n\n    return (\n        <>\n            <FormBS onSubmit={handleSubmit}>\n                <FormBS.Control\n                    type='text'\n                    placeholder='Shorten your link'\n                    value={url}\n                    onChange={(e) => {\n                        setUrl(e.target.value);\n                    }}\n                />\n                <div className='d-grid gap-2'>\n                    <Button variant='primary' size='lg' type='submit'>\n                        Shorten\n                    </Button>\n                </div>\n                <FormBS.Text muted>\n                    By clicking SHORTEN, you are agreeing to Shortly's Terms of\n                    Service, Privacy Policy, and Acceptable Use Policy\n                </FormBS.Text>\n            </FormBS>\n            {error != '' && <Error error={error} setError={setError} />}\n        </>\n    );\n}\n"],"mappings":"wVAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,IAAI,GAAIC,OAAjB,CAAyBC,MAAzB,KAAuC,iBAAvC,CACA,MAAOC,MAAP,KAAkB,SAAlB,C,6IAEA,cAAe,SAASH,KAAT,MAA8C,IAA9BI,IAA8B,MAA9BA,GAA8B,CAAzBC,MAAyB,MAAzBA,MAAyB,CAAjBC,IAAiB,MAAjBA,IAAiB,CAAXC,OAAW,MAAXA,OAAW,CACzD,cAA0BR,QAAQ,CAAC,EAAD,CAAlC,wCAAOS,KAAP,eAAcC,QAAd,eAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACAC,WAAW,CAACT,GAAD,CAAX,CACH,CAHD,CAKA,GAAMS,YAAW,CAAG,QAAdA,YAAc,CAACT,GAAD,CAAS,CACzB,GAAIA,GAAG,GAAK,EAAZ,CAAgB,CACZK,QAAQ,CAAC,wBAAD,CAAR,CACA,OACH,CACD,GAAIK,SAAQ,gDAA2CV,GAA3C,CAAZ,CACAW,KAAK,CAACD,QAAD,CAAL,CACKE,IADL,CACU,SAACC,GAAD,QAASA,IAAG,CAACC,IAAJ,EAAT,EADV,EAEKF,IAFL,CAEU,SAACG,IAAD,CAAU,CACZ,GAAIA,IAAI,CAACC,EAAT,CAAa,CACTX,QAAQ,CAAC,EAAD,CAAR,CACAF,OAAO,EACH,CAAEc,IAAI,CAAEjB,GAAR,CAAakB,UAAU,CAAEH,IAAI,CAACI,MAAL,CAAYD,UAArC,CADG,4BAEAhB,IAFA,GAAP,CAIH,CAND,IAMO,CACHG,QAAQ,CAACU,IAAI,CAACX,KAAN,CAAR,CACH,CACJ,CAZL,EAaH,CAnBD,CAqBAV,SAAS,CAAC,UAAM,CACZQ,IAAI,CAAC,CAAD,CAAJ,EAAWD,MAAM,CAACC,IAAI,CAAC,CAAD,CAAJ,CAAQgB,UAAT,CAAjB,CACH,CAFQ,CAEN,CAAChB,IAAD,CAFM,CAAT,CAIA,mBACI,wCACI,MAAC,MAAD,EAAQ,QAAQ,CAAEI,YAAlB,wBACI,KAAC,MAAD,CAAQ,OAAR,EACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,mBAFhB,CAGI,KAAK,CAAEN,GAHX,CAII,QAAQ,CAAE,kBAACO,CAAD,CAAO,CACbN,MAAM,CAACM,CAAC,CAACa,MAAF,CAASC,KAAV,CAAN,CACH,CANL,EADJ,cASI,YAAK,SAAS,CAAC,cAAf,uBACI,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,IAA/B,CAAoC,IAAI,CAAC,QAAzC,qBADJ,EATJ,cAcI,KAAC,MAAD,CAAQ,IAAR,EAAa,KAAK,KAAlB,4HAdJ,GADJ,CAoBKjB,KAAK,EAAI,EAAT,eAAe,KAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,CAAqB,QAAQ,CAAEC,QAA/B,EApBpB,GADJ,CAwBH"},"metadata":{},"sourceType":"module"}